{% extends "base_principal.html" %}
{% load static %}

{% block title %}
    Editar Trabajador
{% endblock title %}

{% block content %}
<div class="card shadow-lg">
    <div class="card-body p-5">
        <h1 class="fs-4 text-center card-title fw-bold mb-4">Editar Trabajador</h1>
        <form method="POST" autocomplete="off">
            {% csrf_token %}
            {% if form.errors %}
                <div class="alert alert-danger sm mb-3 p-2" role="alert">
                    <h6>Ha ocurrido un error al intentar guardar la entidad</h6>
                </div>
            {% endif %}
            <div class="mb-3">
                <label class="mb-2 text-muted" for="nomb">Nombre y Apellidos</label>
                {{form.username}}
                {%if form.username.errors%}
                <div class="alert alert-danger sm m-1 p-2 small" role="alert">
                {% for error in form.username.errors %}{{ error }}{% endfor %}
                </div>
                {%endif%}
            </div>

            <div class="mb-3">
                <label class="mb-2 text-muted" for="nomb">Carnet Identidad</label>
                {{form.ci}}
                {%if form.ci.errors%}
                <div class="alert alert-danger sm m-1 p-2 small" role="alert">
                {% for error in form.ci.errors %}{{ error }}{% endfor %}
                </div>
                {%endif%}
            </div>

            <div class="mb-3">
                <label class="mb-2 text-muted" for="pass">Teléfono</label>
                {{form.tfno}}
                {%if form.tfno.errors%}
                <div class="alert alert-danger sm m-1 p-2 small" role="alert">
                {% for error in form.tfno.errors %}{{ error }}{% endfor %}
                </div>
                {%endif%}
                
            </div>

            <div class="mb-3">
                <label class="mb-2 text-muted" for="pass">Dirección</label>
                {{form.dir}}
                {%if form.dir.errors%}
                <div class="alert alert-danger sm m-1 p-2 small" role="alert">
                {% for error in form.dir.errors %}{{ error }}{% endfor %}
                </div>
                {%endif%}
                
            </div>
            <div class="mb-3">
                <label class="mb-2 text-muted" for="pass">grupos</label>
                {{form.groups}}
                {%if form.groups.errors%}
                <div class="alert alert-danger sm m-1 p-2 small" role="alert">
                {% for error in form.groups.errors %}{{ error }}{% endfor %}
                </div>
                {%endif%}
            </div>
            <div class="mb-3">
                <label class="mb-2 text-muted" for="corr">Correo electrónico</label>
                {{form.email}}
                {%if form.email.errors%}
                <div class="alert alert-danger sm m-1 p-2 small" role="alert">
                {% for error in form.email.errors %}{{ error }}{% endfor %}
                </div>
                {%endif%}
            </div>

            <div class="mb-3">
                <label class="mb-2 text-muted" for="pass">Contraseña</label>
                <input type="password"
                                   name="{{ form.password.html_name }}"
                                   {% if form.password.value %} value="{{ form.password.value }}"{% endif %}
                                   class="form-control"
                                   id="{{ form.password.id_for_label }}"
                                   disabled
                                   />
               
            </div>
            <div class="d-flex flex-row justify-content-center">
                <button type="submit" class="btn btn-primary">
                    Editar
                </button>
                <a class="btn btn-danger ms-auto" href="{% url 'trabajador' %}">Cancelar</a>
            </div>
            
        </form>
    </div>
</div>
{% endblock content %}
